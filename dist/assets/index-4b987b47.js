import{bf as Ee,j as e,aO as D,c7 as L,bE as Fe,c8 as Te,c9 as Ae,ca as Ie,r as u,A as _e,bL as Ce,s as he,b as T,c as m,cb as v,cc as De,cd as ke,ce as qe,L as je,Y as Re,t as be,h as ie,cf as O,cg as pe,ch as Ke,ci as Le,cj as Be,I as We,B as ne,ck as Ve,cl as Me,cm as B,w as ae,cn as fe,co as Ue,cp as ze,x as se,p as Q,q as S,cq as H,T as ue,a as $e,u as He,cr as Oe,cs as Ge,ct as Je,cu as Ye,cv as Ze,cw as Xe,cx as Qe,cy as ea,cz as aa}from"./index-1805b571.js";import{c as na,A as ta,p as sa,S as ra,J as oa,T as ia}from"./master-8ac0c594.js";import{B as ye,a as la,b as da}from"./index-fefdb3ee.js";import{L as te}from"./Dashed-327914bf.js";import{M as pa}from"./MessageBox-8766970e.js";import{R as ua,C as ge}from"./Row-c44c21a8.js";import{p as ee,i as ca}from"./fileValidation-68e7970c.js";import"./DialogActions-1f61fe88.js";const ha=Ee(e.jsx("path",{d:"M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zM12 13 3.74 7.84 12 3l8.26 4.84z"}),"Drafts"),ga=({handleSubmit:a,handleNext:n,handleBack:s,handleDraft:r,activeStep:l,stepsResult:p,isSubmitting:c=!1,postLoading:i=!1,patchLoading:d=!1})=>{const t=l===4,o=l===0,g=l===3;return e.jsxs(D,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:0,pt:2,px:2},children:[l>1&&e.jsx(L,{text:"Kembali",bgColor:"transparent",border:"1px solid #E7E7E7",textColor:"#041662",disabled:o,onClick:s}),!o&&!g&&e.jsx(L,{text:"Draft",bgColor:"#f97316",border:"1px solid #E7E7E7",textColor:"#fff",hoverColor:"#ea580c",onClick:r,rightIcon:e.jsx(ha,{fontSize:"14px"})}),!t&&e.jsx(L,{onClick:n,text:"Selanjutnya",bgColor:"#041662",hoverColor:"#1e40af"}),t&&e.jsx(L,{onClick:a,text:"Submit Permohonan",bgColor:"#041662",hoverColor:"#1e40af"})]})},ma=ga,xa=({steps:a,activeStep:n,isStepSkipped:s,isStepValid:r,isStepHasError:l})=>(Fe(),e.jsx(Te,{activeStep:n,alternativeLabel:!0,sx:{"& .MuiStepConnector-root":{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},"& .MuiStepConnector-line":{borderTopStyle:"dashed",borderTopWidth:2,borderColor:"#E7E7E7"},"& .MuiStepConnector-active .MuiStepConnector-line":{borderColor:"#041662"},"& .MuiStepConnector-completed .MuiStepConnector-line":{borderColor:"#041662"}},children:a.map((p,c)=>{const i={};return s(c)&&(i.completed=!1),e.jsx(Ae,{...i,children:e.jsx(Ie,{children:e.jsx("span",{style:{fontFamily:"Poppins",fontWeight:400,fontSize:"12px",lineHeight:"18px",color:"#888888"},children:p.label})})},p.id)})})),_a=xa;function ka(){const[a,n]=u.useState(!1),[s,r]=u.useState(1),l=()=>{n(!0),r(1)},p=()=>{n(!1),r(1)},c=[{label:"Pewarganegaraan berdasarkan perkawinan campuran",value:"Pewarganegaraan berdasarkan perkawinan campuran"}],i=_e({enableReinitialize:!0,initialValues:{jumlahPembelian:1,subLayanan:""},validationSchema:na,onSubmit:o=>{r(2)}}),d=()=>s===1?e.jsx(he,{onSubmit:i.handleSubmit,children:e.jsxs(T,{children:[e.jsx(m,{xs:"12",children:e.jsx(v,{formik:i,name:"jumlahPembelian",placeholder:"Tulis jumlah pembelian",required:!0,type:"number",readonly:!0})}),e.jsx(m,{xs:"12",children:e.jsx(De,{formik:i,name:"subLayanan",placeholder:"Pilih sub layanan jasa hukum",options:c,required:!0})})]})}):s===2?e.jsx(he,{children:e.jsx(T,{children:e.jsx(m,{xs:"12",children:e.jsxs("div",{children:[e.jsx("img",{src:sa,alt:"Panduan Pembayaran",style:{maxWidth:"100%",margin:"16px 0"}}),e.jsx(L,{onClick:i.handleSubmit,text:"Download",leftIcon:e.jsx(ra,{}),textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7",hoverColor:"#041992"}),e.jsx("p",{style:{color:"#6D6D6D",fontFamily:"Poppins",fontWeight:400,fontSize:"14px"},children:'Apabila telah melakukan pembayaran tetapi status pembayaran "belum bayar", Anda dapat melakukan konfirmasi pembayaran pada menu konfirmasi pembayaran.'}),e.jsx("p",{style:{color:"#6D6D6D",fontFamily:"Poppins",fontWeight:400,fontSize:"14px"},children:"Apabila masih terdapat kendala terkait pembayaran PNBP, Anda dapat melakukan konsultasi pada menu Konsultasi Pembayaran."}),e.jsx("p",{style:{color:"#6D6D6D",fontFamily:"Poppins",fontWeight:400,fontSize:"14px"},children:"Untuk panduan cara pembayaran dapat diakses pada link berikut."})]})})})}):null,t=()=>{if(s===1)return e.jsxs(e.Fragment,{children:[e.jsx(L,{text:"Kembali",onClick:p,textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7"}),e.jsx(L,{text:"Selanjutnya",rightIcon:e.jsx(ke,{}),onClick:i.handleSubmit,bgColor:"#041662",textColor:"#fff",hoverColor:"#041992"})]});if(s===2)return e.jsxs(e.Fragment,{children:[e.jsx(L,{text:"Sebelumnya",onClick:()=>r(1),textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7",hoverColor:"#041992"}),e.jsx(L,{onClick:()=>p(),text:"Selanjutnya",rightIcon:e.jsx(qe,{})})]})};return e.jsxs(e.Fragment,{children:[e.jsx(Ce,{style:{textDecoration:"underline",color:"#041662",fontWeight:500,fontSize:"14px",fontFamily:"Poppins",textTransform:"initial"},onClick:l,children:"Beli Voucher di SIMPADHU"}),e.jsx(ta,{open:a,onClose:p,title:"Pembelian Voucher",description:s===1?"Silahkan pilih layanan yang anda inginkan":"Berikut adalah bukti pemesanan voucher anda",actions:t(),children:d()})]})}const ja=({formik:a,setActiveStep:n,label:s})=>{u.useState("");const r=()=>{!a.errors.voucher&&a.values.voucher?n(l=>l+1):a.setFieldTouched("voucher",!0)};return e.jsx("div",{className:"page-content d-flex justify-content-center align-items-center px-2 mb-3",style:{fontFamily:"Poppins"},children:e.jsxs("div",{className:"d-flex flex-column w-100",style:{maxWidth:800},children:[e.jsx(T,{className:"justify-content-center mb-2",children:e.jsxs(m,{lg:"10",children:[e.jsx("h4",{style:{color:"#041662",fontWeight:500,fontSize:"28px",lineHeight:"52px"},children:"Permohonan Tetap Sebagai Warga Negara Indonesia"}),e.jsx("hr",{})]})}),e.jsx(T,{className:"justify-content-center mb-2",children:e.jsx(m,{lg:"10",children:e.jsx("p",{style:{color:"#5D5D5D",fontSize:"14px",fontWeight:500,lineHeight:"26px"},children:"Anda akan memulai proses permohonan tetap sebagai WNI. Pastikan Anda telah menyiapkan dokumen dan informasi yang dibutuhkan sebelum melanjutkan."})})}),e.jsx(T,{className:"justify-content-center mb-2",children:e.jsxs(m,{lg:"10",children:[e.jsx("p",{style:{color:"#5D5D5D",fontSize:"14px",lineHeight:"26px",fontWeight:500},children:"Untuk melanjutkan, Anda perlu memasukkan kode voucher pendaftaran terlebih dahulu."}),e.jsx(v,{formik:a,type:"text",name:"voucher",placeholder:"Tulis Kode Voucher Anda Di Sini",className:"mt-2 form-field-input"})]})}),e.jsx(T,{className:"justify-content-center",children:e.jsxs(m,{lg:"10",children:[e.jsx("p",{style:{color:"#5D5D5D",fontSize:"14px",lineHeight:"26px",fontWeight:500},children:"Jika Anda belum memiliki kode voucher, silakan melakukan pembelian melalui layanan SIMPADHU pada tautan berikut:"}),e.jsx(ka,{})]})}),e.jsx(T,{className:"justify-content-center",children:e.jsx(m,{lg:"10",children:e.jsx(L,{bgColor:"#041662",textColor:"#fff",hoverColor:"#041992",text:"Mulai Pendaftaran",rightIcon:e.jsx(ke,{}),onClick:r})})})]})})},I=({formik:a,name:n,placeholder:s,options:r=[],isMulti:l=!1,readonly:p=!1,isDisabled:c=!1,required:i=!1,title:d="",fontSize:t="12px",isSearchable:o=!0,noOptionsMessage:g="Tidak ada opsi",loadingMessage:h="Memuat...",menuPortalTarget:k=typeof document<"u"?document.body:null,..._})=>{const[y,b]=u.useState(r),[x,F]=u.useState("");u.useEffect(()=>{if(x){const f=r.filter(P=>P.label.toLowerCase().includes(x.toLowerCase()));b(f)}else b(r)},[x,r]);const j=l?r.filter(f=>{var P;return(P=a.values[n])==null?void 0:P.includes(f.value)}):r.find(f=>f.value===a.values[n]),N=f=>{l?a.setFieldValue(n,f?f.map(P=>P.value):[]):a.setFieldValue(n,f?f.value:""),a.setFieldTouched(n,!0)},K=()=>{a.setFieldTouched(n,!0),a.handleBlur(n)},q=f=>{F(f)},A=a.touched[n]&&!!a.errors[n];return e.jsxs("div",{className:"mb-3",style:{position:"relative",zIndex:1},children:[s&&e.jsxs(je,{className:"m-0 p-0",style:{fontSize:t},htmlFor:n,children:[d||s,i&&e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(D,{sx:{position:"relative"},children:e.jsx(Re,{id:n,name:n,options:y,value:j,onChange:N,onBlur:K,onInputChange:q,inputValue:x,isMulti:l,isSearchable:o,placeholder:`Pilih ${s}`,noOptionsMessage:()=>g,loadingMessage:()=>h,isDisabled:p||c,classNamePrefix:"react-select",className:A?"is-invalid":"",menuPortalTarget:k,menuPosition:"fixed",styles:{control:(f,P)=>({...f,borderColor:"#E7E7E7","&:hover":{borderColor:"#E7E7E7"},boxShadow:P.isFocused&&A?"0 0 0 0.25rem rgba(220,53,69,.25)":P.isFocused?"0 0 0 0.25rem rgba(13,110,253,.25)":f.boxShadow,fontSize:t,minHeight:"38px"}),menuPortal:f=>({...f,zIndex:9999}),menu:f=>({...f,zIndex:9999,position:"absolute"}),option:f=>({...f,fontSize:t}),placeholder:f=>({...f,color:"#B0B0B0",fontSize:t}),singleValue:f=>({...f,color:"#000",fontSize:t}),multiValue:f=>({...f,fontSize:t})},..._})}),a.touched[n]&&a.errors[n]&&e.jsx(be,{className:"d-block",children:a.errors[n]})]})},ba=({formik:a})=>{const{agama:n,negara:s,provinsi:r,kotakab:l,pekerjaan:p,statusKawin:c}=ie(i=>i.master);return e.jsxs(e.Fragment,{children:[e.jsx(O,{title:"Informasi Pribadi"}),e.jsxs(D,{className:"form-horizontal",children:[e.jsxs(T,{children:[e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"nama_lengkap_pemohon",placeholder:"Tulis nama lengkap",title:"Nama Lengkap",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"nik_pemohon",placeholder:"Tulis NIK/NIT",title:"NIK/NIT",type:"number",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"tgl_lahir_pemohon",type:"date",placeholder:"Tanggal Lahir",title:"Tanggal Lahir",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"id_negara_lahir_pemohon",placeholder:"Negara Kelahiran",title:"Negara Kelahiran",options:s.data,required:!0})})]}),e.jsxs(T,{children:[e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"jenis_kelamin_pemohon",placeholder:"Jenis Kelamin",options:oa,title:"Jenis Kelamin",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"status_kawin_pemohon",placeholder:"Status Perkawinan",title:"Status Perkawinan",required:!0,readonly:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"id_kewarganegaraan_asal_pemohon",placeholder:"Indonesia",options:[{value:76,label:"Indonesia"}],title:"Kewarganegaraan Asal",required:!0,readonly:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"id_pekerjaan_pemohon",placeholder:"Jenis pekerjaan saat ini",options:p.data,title:"Pekerjaan",required:!0})})]}),e.jsxs(T,{children:[e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"id_provinsi_pemohon",placeholder:"Pilih Provinsi",title:"Provinsi Kelahiran",options:r.data,required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"id_kab_kota_pemohon",placeholder:"Pilih Kabupaten/Kota",title:"Kabupaten/Kota Kelahiran",options:l.data,required:!0,isDisabled:!a.values.id_provinsi_pemohon})})]})]})]})},we={apiWilayah:"/master/wilayah",apiNegara:"/master/negara",apiPekerjaan:"/master/pekerjaan",apiAgama:"/master/agama",apiStatusKawin:"/master/status-kawin"};var xe;(xe=JSON.parse(localStorage.getItem("resUser")))!=null&&xe.token;const fa=a=>{if(!a||typeof a!="object")return"";const n=Object.keys(a).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(a[s])}`).join("&");return n?`?${n}`:""},ya=a=>{const n=fa({tipe:"kotakab",id:a});return pe(`${we.apiWilayah}${n}`)},wa=()=>pe(we.apiStatusKawin),Sa=(a,n={})=>Array.isArray(a)?a.map(s=>{const{valueKey:r="id",labelKey:l="nama",lowercaseValue:p=!1,useSameLabelAndValue:c=!1}=n,i=s[l],d=c?i:p?String(s[r]).toLowerCase():s[r];return{label:i,value:d,raw:s}}):[],Pa=({formik:a})=>{const{values:n,setFieldValue:s}=a,[r,l]=u.useState([]),[p,c]=u.useState(!1),{negara:i,provinsi:d}=ie(h=>h.master),t=n.tempat_tinggal_pemohon==="Dalam Negeri",o=n.tempat_tinggal_pemohon==="Luar Negeri",g=async h=>{if(!h){l([]);return}c(!0);try{const k=await ya(h);if(Array.isArray(k.data)){const _=Sa(k.data,{valueKey:"id",labelKey:"nama",lowercaseValue:!1,useSameLabelAndValue:!1});l(_)}else console.warn("Expected array in response.data, got:",k.data),l([])}catch(k){console.error("Error fetching kota/kab:",k),l([])}finally{c(!1)}};return u.useEffect(()=>{t?s("id_negara_tinggal_pemohon",""):o&&(s("id_provinsi_tinggal_pemohon",""),s("id_kab_kota_tinggal_pemohon","")),n.tempat_tinggal_pemohon||(s("id_negara_tinggal_pemohon",""),s("id_provinsi_tinggal_pemohon",""),s("id_kab_kota_tinggal_pemohon",""))},[n.tempat_tinggal_pemohon,s,t,o]),u.useEffect(()=>{const h=n.id_provinsi_tinggal_pemohon;t&&h?g(h):l([])},[n.id_provinsi_tinggal_pemohon,t,s]),e.jsxs(e.Fragment,{children:[e.jsx(O,{title:"Data Alamat"}),e.jsxs(T,{children:[e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"tempat_tinggal_pemohon",title:"Tempat tinggal",placeholder:"tempat tinggal",options:ia,required:!0})}),o&&e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"id_negara_tinggal_pemohon",title:"Negara Tinggal",placeholder:"negara tinggal",options:i.data,required:o})}),e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"no_hp_pemohon",title:"Nomor HP",placeholder:"Tulis nomor handphone aktif",type:"tel",required:!0,leftIcon:e.jsx(ye,{})})}),e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"no_telp_pemohon",title:"Nomor Telepon Rumah",type:"tel",placeholder:"Tulis nomor telepon"})})]}),e.jsxs(T,{children:[t&&e.jsxs(e.Fragment,{children:[e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"id_provinsi_tinggal_pemohon",title:"Provinsi",placeholder:"provinsi domisili",options:d.data,required:t})}),e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"id_kab_kota_tinggal_pemohon",title:"Kabupaten/Kota",placeholder:"kabupaten/kota domisili",options:r,required:t,loading:p})})]}),e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"6",children:e.jsx(v,{formik:a,name:"email_pemohon",placeholder:"Tulis alamat email aktif",title:"Email",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"12",xl:"12",children:e.jsx(v,{formik:a,name:"alamat_tinggal_pemohon",placeholder:"Tulis alamat lengkap domisili saat ini",title:"Alamat tinggal",type:"textarea",maxLength:"255",required:!0})})]})]})},va=({formik:a})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{title:"Dokumen Kependudukan"}),e.jsxs(T,{children:[e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"6",children:e.jsx(v,{formik:a,name:"no_akta_lahir_pemohon",title:"Nomor akta/Bukti kelahiran",placeholder:"Tulis nomor akta",required:!0})}),e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"6",children:e.jsx(v,{formik:a,name:"tgl_akta_lahir_pemohon",title:"Tanggal akta/Bukti kelahiran",placeholder:"Masukkan tanggal akta",type:"date",required:!0})})]})]}),Na=({formik:a})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{title:"Dokumen Perkawinan"}),e.jsxs(T,{children:[e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"6",children:e.jsx(v,{formik:a,title:"Nomor Akta Perkawinan / Buku Nikah / Laporan Kawin",name:"no_akta_kawin_pemohon",placeholder:"Tulis nomor akta perkawinan",required:!0})}),e.jsx(m,{xs:"12",sm:"12",md:"12",lg:"6",xl:"6",children:e.jsx(v,{formik:a,title:"Tanggal Akta Perkawinan / Buku Nikah",name:"tgl_akta_kawin_pemohon",placeholder:"Masukkan tanggal akta perkawinan",type:"date",required:!0})})]})]}),Ea=({formik:a})=>{const{negara:n,provinsi:s}=ie(r=>r.master);return e.jsxs(e.Fragment,{children:[e.jsx(O,{title:"Dokumen Perjalanan"}),e.jsxs(T,{children:[e.jsx(m,{xs:"12",md:"12",lg:"12",xl:"3",children:e.jsx(v,{formik:a,title:"Nomor Paspor RI",name:"no_paspor_ri_pemohon",placeholder:"Tulis nomor paspor",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"12",xl:"3",children:e.jsx(I,{formik:a,title:"Wilayah Terbit Paspor RI",name:"wilayah_paspor_ri_pemohon",placeholder:"Tulis lokasi terbit paspor RI",options:s.data,required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"12",xl:"6",children:e.jsx(v,{formik:a,title:"Tanggal Kedaluwarsa Paspor RI",name:"tgl_exp_paspor_ri_pemohon",placeholder:"Masukkan tanggal kedaluwarsa paspor RI",type:"date",required:!0})})]}),e.jsxs(T,{children:[e.jsx(m,{xs:"12",md:"12",lg:"12",xl:"3",children:e.jsx(v,{formik:a,title:"Nomor Paspor Kebangsaan",name:"no_paspor_kebangsaan_pemohon",placeholder:"Tulis nomor paspor",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"12",xl:"3",children:e.jsx(I,{formik:a,title:"Wilayah Terbit Paspor Kebangsaan",name:"wilayah_paspor_kebangsaan_pemohon",placeholder:"Indonesia",options:n.data,required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"12",xl:"6",children:e.jsx(v,{formik:a,title:"Tanggal Kedaluwarsa Paspor Kebangsaan",name:"tgl_exp_paspor_kebangsaan_pemohon",placeholder:"Masukkan tanggal kedaluwarsa paspor RI",type:"date",required:!0})})]})]})},Fa=({formik:a})=>e.jsxs(D,{className:"mt-3 mb-3",sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:"24px"},children:[e.jsx(ba,{formik:a}),e.jsx(te,{}),e.jsx(Pa,{formik:a}),e.jsx(te,{}),e.jsx(va,{formik:a}),e.jsx(te,{}),e.jsx(Na,{formik:a}),e.jsx(te,{}),e.jsx(Ea,{formik:a})]});function Ta({formik:a}){const n=u.useRef(null),s=u.useRef(null),[r,l]=u.useState(!1);u.useEffect(()=>{const i=a.values.suratPermohonan==="1";l(i),s.current&&(s.current.checked=i)},[a.values.suratPermohonan]);const p=i=>{const d=i.target.checked,t=d?"1":"";l(d),a.setFieldValue("suratPermohonan",t),a.setFieldTouched("suratPermohonan",!0)},c=async()=>{if(n.current){const i=await Le(n.current,{scale:2}),d=i.toDataURL("image/png"),t=new Be("p","mm","a4"),o=t.internal.pageSize.getWidth(),g=t.internal.pageSize.getHeight(),h=o,k=i.height*o/i.width;let _=k,y=0;for(t.addImage(d,"PNG",0,y,h,k),_-=g;_>0;)y=_-k,t.addPage(),t.addImage(d,"PNG",0,y,h,k),_-=g;t.save("SuratPermohonan.pdf")}};return e.jsx("div",{className:"mt-5 mb-3 px-2 ",children:e.jsx(D,{sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:2},children:e.jsx(ua,{children:e.jsxs(ge,{children:[e.jsx(D,{sx:{border:"1px solid #e0e0e0",borderRadius:2,mb:3,maxWidth:890,margin:"0 auto"},children:e.jsxs("div",{ref:n,style:{padding:50,fontFamily:"Times New Roman",fontSize:12,lineHeight:1.6},children:[e.jsx("div",{className:"text-center",style:{fontSize:16,fontWeight:600,letterSpacing:.5,textTransform:"uppercase"},children:"FORMULIR PERNYATAAN TETAP SEBAGAI WARGA NEGARA INDONESIA"}),e.jsxs("div",{style:{fontSize:12,marginTop:30,lineHeight:1.6},children:[e.jsx("div",{children:"Saya yang bertanda tangan dibawah ini :"}),e.jsx("table",{style:{width:"100%",marginTop:20,marginBottom:47},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"2%"},children:"Nama Lengkap"}),e.jsxs("td",{style:{width:"5%"},children:[": ",a.values.nama_lengkap_pemohon]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Tempat/Tanggal Lahir"}),e.jsxs("td",{children:[": ",a.values.kab_kota_pemohon_text,", 24 Juli 2025"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Jenis Kelamin"}),e.jsxs("td",{children:[": ",a.values.jenis_kelamin_pemohon]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Alamat Tempat Tinggal"}),e.jsxs("td",{children:[": ",a.values.alamat_tinggal_pemohon]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Pekerjaan"}),e.jsxs("td",{children:[": ",a.values.pekerjaan_pemohon_text]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Kewarganegaraan Suami/Istri"}),e.jsxs("td",{children:[": ",a.values.id_kewarganegaraan_pasangan]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Status Perkawinan"}),e.jsx("td",{children:": KAWIN DENGAN WARGA NEGARA ASING"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Nama Lengkap Suami/Istri"}),e.jsxs("td",{children:[": ",a.values.nama_lengkap_pasangan]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Nomor Paspor"}),e.jsxs("td",{children:[e.jsxs("div",{children:["1. Paspor Republik Indonesia",e.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[e.jsxs("li",{children:["nomor : ",a.values.no_paspor_ri_pemohon]}),e.jsxs("li",{children:["diterbitkan di:"," ",a.values.wilayah_paspor_ri_pemohon]}),e.jsxs("li",{children:["berlaku sampai dengan :"," ",a.values.tgl_exp_paspor_ri_pemohon]})]})]}),e.jsxs("div",{children:["2. Paspor Kebangsaan",e.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[e.jsxs("li",{children:["nomor :"," ",a.values.no_paspor_kebangsaan_pemohon]}),e.jsxs("li",{children:["diterbitkan di:"," ",a.values.wilayah_paspor_kebangsaan_pemohon]}),e.jsxs("li",{children:["berlaku sampai dengan :"," ",a.values.tgl_exp_paspor_kebangsaan_pemohon]})]})]})]})]})]})}),e.jsx("div",{style:{marginBottom:10},children:"Terlebih dahulu diterangkan :"}),e.jsx("div",{style:{marginBottom:30},children:"Bahwa diindonesia, pada tanggal 09 November 2017, telah dilangsungkan perkawinan antara saya dengan Riadi Jones; Bahwa suami saya (Riadi Jones) adalah kewarganegaraan France; Bahwa berdasarkan uraian tersebut, saya dengan ini menyatakan untuk tetap mempertahankan kewarganegaraan saya, yaitu Kewarganegaraan Republik Indonesia dan menolak Kewarganegaraan suami saya, yaitu Kewarganegaraan France;"}),e.jsx("div",{style:{marginBottom:30},children:"Demikian surat pernyataan ini saya buat dengan sebenarnya tanpa adanya paksaan dan tekanan dari pihak lain manapun juga sehingga segala akibat yang mungkin timbul kemudian hari karena dibuatnya surat pernyataan ini akan menjadi tanggung jawab saya sepenuhnya"}),e.jsx("div",{style:{marginTop:50,display:"flex",justifyContent:"flex-end"},children:e.jsxs("div",{children:[e.jsx("div",{style:{textAlign:"center"},children:"Indonesia, 24 juli 2025"}),e.jsx("div",{style:{textAlign:"center"},children:"Yang menyatakan"}),e.jsx("div",{style:{height:40}}),e.jsx("div",{style:{textAlign:"center",fontSize:12,marginTop:50,fontWeight:"bold"},children:a.values.nama_lengkap_pemohon})]})})]})]})}),e.jsxs(D,{sx:{border:"none",mb:3,maxWidth:890,margin:"0 auto"},children:[e.jsx(ge,{xs:"12",className:"d-flex flex-row gap-2 px-4",style:{marginBottom:"32px",marginTop:"32px"},children:e.jsxs(D,{sx:{borderRadius:2,mb:3,maxWidth:890,margin:"0 auto"},xs:"12",className:"d-flex flex-row gap-2 px-4 justify-content-between",style:{marginBottom:"32px",marginTop:"32px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",cursor:"pointer",fontSize:"0.95rem",lineHeight:"1.5",padding:"8px",border:r?"2px solid #28a745":a.errors.suratPermohonan&&a.touched.suratPermohonan?"2px solid #dc3545":"",borderRadius:"8px",backgroundColor:r?"#d4edda":a.errors.suratPermohonan&&a.touched.suratPermohonan?"#f8d7da":"white",transition:"all 0.3s"},children:[e.jsx("input",{ref:s,type:"checkbox",onChange:p,style:{marginRight:"12px",marginTop:"4px",transform:"scale(1.3)",cursor:"pointer"}}),e.jsx("span",{children:"Pastikan pengisian data yang telah anda isi sudah benar dan lengkap"})]}),a.errors.suratPermohonan&&a.touched.suratPermohonan&&e.jsxs("div",{style:{color:"#dc3545",fontSize:"12px",marginTop:"8px",marginLeft:"",fontWeight:"500"},children:["âš ï¸ ",a.errors.suratPermohonan]})]}),e.jsx(L,{text:"Download",leftIcon:e.jsx(Ke,{}),textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7",onClick:c,sx:{height:"45px"}})]})}),e.jsxs(pa,{type:"warning",children:["Semua dokumen yang perlu untuk diunggah harus disiapkan sebelum anda mendaftar secara online. Verifikator tidak akan menerima dokumen unggah yang dikirimkan setelah anda mendaftar online.",e.jsx("br",{}),e.jsx("br",{}),"Surat pernyataan ini harus diisi dan ditandatangani di atas materai oleh pemohon dan dilampirkan pada saat pendaftaran Notaris. Apabila ada hal yang kurang jelas silakan menghubungi: Subdit Sertifikasi Notariat, Direktorat Perdata, Direktorat Jenderal Administrasi Hukum Umum, Gedung Kementerian Hukum dan HAM, Jl. H.R. Rasuna Said Kav 6-7 Kuningan, Jakarta Selatan 12940, Telp (021) 5202393, pada hari kerja Senin-Jumat pada jam pelayanan permohonan HPI."]})]})]})})})})}const J=({formik:a,name:n,label:s,acceptedFileTypes:r=["application/pdf"],maxFileSizeMB:l=1,required:p=!1,uploadFnc:c,delFnc:i,documentUrl:d,...t})=>{const o=u.useRef(null),[g,h]=u.useState(null),[k,_]=u.useState(!1),[y,b]=u.useState(null),[x,F]=u.useState(null);u.useEffect(()=>{const w=a.values[n];d?(F(d),b({url:d,uploaded:!0}),h(null)):w instanceof File?(h(w.name),F(null),b(null)):w&&typeof w=="object"?(b(w),h(null)):w&&typeof w=="string"?(F(w),b({url:w,uploaded:!0}),h(null)):(h(null),F(null),b(null))},[a.values[n],d,n]);const j=w=>{const E=w.currentTarget.files[0];if(a.setFieldTouched(n,!0),E){const C=l*1024*1024;if(console.log("File validation:",{fileName:E.name,fileType:E.type,fileSize:E.size,maxSizeBytes:C,acceptedTypes:r}),!r.includes(E.type)){const V=`Tipe file tidak valid. Harap unggah ${r.map(de=>de.split("/")[1].toUpperCase()).join(", ")}.`;console.log("âŒ File type validation failed:",V),a.setFieldError(n,V),a.setFieldValue(n,null),h(null),B(V);return}if(E.size>C){const V=`Ukuran file tidak boleh lebih dari ${l}MB.`;console.log("âŒ File size validation failed:",V),a.setFieldError(n,V),a.setFieldValue(n,null),h(null),B(V);return}console.log("âœ… File validation passed, setting file to formik"),a.setFieldValue(n,E),h(E.name),a.setFieldError(n,void 0),console.log("File set successfully")}else console.log("No file selected, clearing state"),a.setFieldValue(n,null),h(null),a.setFieldError(n,void 0)},N=()=>{console.log(`=== Reset File State [${n}] ===`),h(null),b(null),F(null),a.setFieldValue(n,null),a.setFieldError(n,void 0),o.current&&(o.current.value="")},K=async w=>{w.stopPropagation(),console.log(`=== Handle Upload [${n}] ===`),console.log("currentFile:",g),console.log("formik.values[name]:",a.values[n]);const E=a.values[n];if(!E||!(E instanceof File)){console.log("âŒ No valid file to upload"),B("Tidak ada file yang valid untuk diunggah");return}if(!c){console.log("âŒ No upload function provided"),B("Fungsi upload tidak tersedia");return}try{_(!0),console.log("ðŸš€ Starting upload for file:",E.name);const C=await c(E,n);if(console.log("âœ… Upload response:",C),C)b(C),h(null),a.setFieldValue(n,C),a.setFieldError(n,void 0),ae("File berhasil diunggah"),console.log("âœ… Upload completed successfully");else throw new Error("Invalid response format")}catch(C){console.error("âŒ Upload error:",C),B(C.message||"Gagal mengunggah file")}finally{_(!1)}},q=w=>{if(w.stopPropagation(),!x){B("Dokumen tidak tersedia");return}window.open(x,"_blank")},A=()=>{var w;k||(w=o.current)==null||w.click()},f=!!g,P=!!y,W=f&&!k,$=!!x,U=a.touched[n]&&!!a.errors[n],G=()=>P&&y.original_name?`${y.original_name}`:f?g:"Unggah dokumen dengan klik untuk memilih file",R=()=>P?"#1F7C4D":f?"#041662":"#B0B0B0";return e.jsxs("div",{className:"mb-3",children:[e.jsxs(je,{style:{fontSize:"12px",fontWeight:500},htmlFor:n,children:[s," ",p&&e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs(D,{sx:{border:U?"1px solid #dc3545":"1px solid #E7E7E7",borderRadius:2,width:"100%",backgroundColor:P?"#f8f9fa":"white"},children:[e.jsx(We,{id:n,name:n,type:"file",className:"form-control",onChange:j,onBlur:()=>a.setFieldTouched(n,!0),innerRef:o,style:{display:"none"},invalid:U,accept:r.join(","),...t}),e.jsxs("div",{onClick:A,role:"button",tabIndex:0,onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),A())},style:{minWidth:"100%",cursor:k?"not-allowed":"pointer",opacity:k?.7:1},className:"d-flex align-items-center justify-content-between p-2",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(ne,{style:{backgroundColor:P?"#1F7C4D":"#041662",pointerEvents:"none",border:"none"},className:"me-2 py-1 px-2",size:"sm",children:e.jsx(Ve,{size:16})}),e.jsx("span",{style:{color:R(),fontSize:"14px",lineHeight:"22px",fontWeight:P?"500":"400"},children:G()})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[$&&e.jsx(ne,{style:{backgroundColor:"#1F7C4D",border:"none"},className:"me-1 py-1 px-2",size:"sm",onClick:q,disabled:k,title:"Lihat dokumen",children:e.jsx(Me,{size:14})}),W&&e.jsx(ne,{style:{backgroundColor:"#28a745",border:"none"},className:"me-1 py-1 px-2",size:"sm",onClick:K,disabled:k,title:"Upload file",children:k?"...":e.jsx(la,{size:16})}),f&&!P&&e.jsx(ne,{style:{backgroundColor:"#6c757d",border:"none"},className:"py-1 px-2",size:"sm",onClick:w=>{w.stopPropagation(),N()},disabled:k,title:"Batal pilih file",children:e.jsx(da,{size:16})})]})]})]})}),e.jsxs("span",{style:{fontSize:"10px",fontWeight:400,lineHeight:"16px",color:"#6D6D6D"},children:["* File berformat"," ",r.map(w=>w.split("/")[1].toUpperCase()).join(" atau ")," ","dan tidak lebih dari ",l,"MB"]}),U&&e.jsx(be,{type:"invalid",className:"d-block",style:{fontSize:"10px"},children:a.errors[n]})]})},ce=()=>{try{const a=localStorage.getItem("currentPermohonanId");return a?JSON.parse(a):null}catch(a){return console.error("Error retrieving currentPermohonanId from localStorage:",a),null}};async function Aa(a,n={},s={}){return await fe.post(a,n,{headers:{"Content-Type":"application/json",...s.headers},...s}).then(r=>r.data).catch(r=>{throw console.error("POST JSON Error:",r),r})}async function Se(a,n={},s={}){return await fe.patch(a,n,{headers:{"Content-Type":"application/json",...s.headers},...s}).then(r=>r.data).catch(r=>{throw console.error("PATCH JSON Error:",r),r})}const le={getPermohonanDetail:"/kewarganegaraan/permohonan-tetap-wni",postPermohonan:"/kewarganegaraan/permohonan-tetap-wni",patchPermohonan:"/kewarganegaraan/permohonan-tetap-wni",uploadFile:"/kewarganegaraan/permohonan-tetap-wni/upload"},Ia=a=>pe(`${le.getPermohonanDetail}/${a}`),Ca=a=>Aa(le.postPermohonan,a),Da=a=>Se(le.patchPermohonan,a),qa=a=>Se(le.patchPermohonan,a),Y=(a,n)=>{var r;if(!a||!Array.isArray(a)||a.length===0)return null;const s=a.filter(l=>l.file_type===n).sort((l,p)=>new Date(p.uploaded_at)-new Date(l.uploaded_at));return s.length===0?null:((r=s[0])==null?void 0:r.url)||null},z={kutipanAktaLahirPemohon:1,kutipanAktaPerkawinanAtauBukuNikah:2,dokumenPernahWNI:3,ktpAtauNIT:4,suratPernyataanPenolakanWNA:5,pasFoto:6},Ra=Object.fromEntries(Object.entries(z).map(([a,n])=>[n,a])),Ka=({formik:a})=>{const n=ce(),s=a.values.files||[];u.useEffect(()=>{s.forEach(p=>{const c=Ra[p.file_type];if(c){const i=a.values[c];(!i||i!==p)&&(console.log(`âœ… Updating ${c} with file data`),a.setFieldValue(c,p))}else console.warn(`âŒ No field mapping found for file_type: ${p.file_type}`)}),console.log("=== END SYNC FILES ===")},[s,a]);const l={uploadFnc:async(p,c)=>{var d,t,o;if(!n){const g="ID Permohonan tidak ditemukan. Silakan simpan draft terlebih dahulu.";throw B(g),new Error(g)}const i=z[c];if(!i){const g=`Tipe dokumen tidak valid untuk field: ${c}`;throw B(g),new Error(g)}if(!p){const g="File tidak valid";throw B(g),new Error(g)}try{const g=new FormData;g.append("file",p),g.append("id_permohonan",n),g.append("file_type",i),console.log(`ðŸš€ Uploading file: ${p.name} for field: ${c} (type: ${i})`);const h=await Ue.post("http://192.168.72.86:3000/kewarganegaraan/permohonan-tetap-wni/upload",g,{headers:{"Content-Type":"multipart/form-data",Authorization:`${ze}`},timeout:3e4});if(console.log("âœ… Upload response:",h.data),((d=h.data)==null?void 0:d.message)==="Success"&&((t=h.data)!=null&&t.data)){const k=h.data.data;console.log("ðŸ“ Updating formik with uploaded file data:",k);const _=[...s.filter(y=>y.file_type!==i),k];return a.setFieldValue("files",_),a.setFieldValue(c,k),a.setFieldError(c,void 0),console.log("âœ… Successfully updated formik:",{fieldName:c,uploadedFileData:k,updatedFilesCount:_.length}),ae(`Dokumen ${c} berhasil diunggah`),k}else throw new Error(((o=h.data)==null?void 0:o.message)||"Upload response format tidak valid")}catch(g){console.error("âŒ Upload error:",g);let h="Gagal mengunggah dokumen";if(g.code==="ECONNABORTED")h="Upload timeout. Periksa koneksi internet dan coba lagi.";else if(g.response){const k=g.response.status,_=g.response.data;switch(k){case 400:h=(_==null?void 0:_.message)||"Request tidak valid";break;case 401:h="Unauthorized. Silakan login ulang.";break;case 413:h="File terlalu besar";break;case 415:h="Tipe file tidak didukung";break;case 500:h="Server error. Silakan coba lagi nanti.";break;default:h=(_==null?void 0:_.message)||`Server error: ${k}`}}else g.request&&(h="Gagal terhubung ke server. Periksa koneksi internet.");throw se(h),new Error(h)}}};return e.jsxs(D,{className:"mt-3 mb-3",sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:"24px"},children:[e.jsx(O,{title:"Upload Dokumen"}),e.jsxs(T,{children:[e.jsx(m,{lg:"12",xl:"12",children:e.jsx(J,{formik:a,name:"kutipanAktaLahirPemohon",label:"Kutipan akta kelahiran pemohon yang telah disahkan oleh Pejabat atau Perwakilan Republik Indonesia",acceptedFileTypes:["application/pdf"],maxFileSizeMB:20,documentUrl:Y(s,z.kutipanAktaLahirPemohon),required:!0,...l})}),e.jsx(m,{lg:"12",xl:"12",children:e.jsx(J,{formik:a,name:"kutipanAktaPerkawinanAtauBukuNikah",label:"Kutipan akta perkawinan atau buku nikah pemohon yang telah disahkan oleh Pejabat atau Perwakilan Republik Indonesia",acceptedFileTypes:["application/pdf"],maxFileSizeMB:20,documentUrl:Y(s,z.kutipanAktaPerkawinanAtauBukuNikah),required:!0,...l})}),e.jsx(m,{lg:"12",xl:"12",children:e.jsx(J,{formik:a,name:"dokumenPernahWNI",label:"Paspor Republik Indonesia, surat sejenis paspor, atau dokumen lain yang membuktikan bahwa pemohon pernah menjadi WNI",acceptedFileTypes:["application/pdf"],maxFileSizeMB:20,documentUrl:Y(s,z.dokumenPernahWNI),required:!0,...l})}),e.jsx(m,{lg:"12",xl:"12",children:e.jsx(J,{formik:a,name:"ktpAtauNIT",label:"Kartu Tanda Penduduk (KTP) atau surat penerbitan Nomor Identitas Tunggal (NIT)",acceptedFileTypes:["application/pdf"],maxFileSizeMB:20,documentUrl:Y(s,z.ktpAtauNIT),required:!0,...l})}),e.jsx(m,{lg:"12",xl:"12",children:e.jsx(J,{formik:a,name:"suratPernyataanPenolakanWNA",label:"Surat pernyataan penolakan menjadi warga negara asing, dibuat di atas kertas bermaterai yang telah disetujui oleh perwakilan negara asing yang berwenang.",acceptedFileTypes:["application/pdf"],maxFileSizeMB:20,documentUrl:Y(s,z.suratPernyataanPenolakanWNA),required:!0,...l})}),e.jsx(m,{lg:"12",xl:"12",children:e.jsx(J,{formik:a,name:"pasFoto",label:"Pas foto terbaru ukuran 4x6 cm, berwarna, latar belakang merah, berpakaian rapi dan sopan.",acceptedFileTypes:["application/pdf"],maxFileSizeMB:20,documentUrl:Y(s,z.pasFoto),required:!0,...l})})]})]})},La=({formik:a})=>{const[n,s]=u.useState(!1),{negara:r,agama:l}=ie(c=>c.master),p=async()=>{s(!0);try{const c=await wa();console.log("FROM PASANGAN",c)}catch(c){console.error(c)}finally{s(!1)}};return u.useEffect(()=>{p(),a.setFieldValue("status_kawin_pasangan","Kawin")},[]),e.jsxs(D,{className:"mt-3 mb-3",sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:"24px"},children:[e.jsx(O,{title:"Informasi Data Pasangan"}),e.jsxs(D,{className:"form-horizontal",children:[e.jsxs(T,{children:[e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"nama_lengkap_pasangan",placeholder:"Tulis nama lengkap",title:"Nama Lengkap",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"id_kewarganegaraan_pasangan",placeholder:"kewarganegaraan",title:"Kewarganegaraan",options:r.data,isDisabled:r.data.length===0,required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"email_pasangan",placeholder:"Tulis alamat email aktif",title:"Email",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"no_hp_pasangan",placeholder:"Tulis nomor handphone aktif",title:"Nomor HP (diikuti kode negara)",leftIcon:e.jsx(ye,{}),type:"number",required:!0})})]}),e.jsxs(T,{children:[e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"id_negara_lahir_pasangan",placeholder:"tempat lahir",title:"Negara Tempat Lahir",options:r.data,isDisabled:r.data.length===0,required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"tgl_lahir_pasangan",placeholder:"Pilih tanggal lahir",title:"Tanggal Lahir",type:"date",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"12",xl:"6",children:e.jsx(v,{formik:a,name:"alamat_tinggal_pasangan",placeholder:"Tulis alamat lengkap domisili saat ini",title:"Alamat tinggal",type:"textarea",required:!0})})]}),e.jsxs(T,{children:[e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"status_kawin_pasangan",placeholder:"Kawin",title:"Status Perkawinan",options:[{value:"Kawin",label:"Kawin"}],readonly:!0,required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(I,{formik:a,name:"agama_pasangan",placeholder:"agama",title:"Agama",options:l.data,required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"no_paspor_asing_pasangan",placeholder:"Tulis nomor paspor",title:"Nomor Paspor Asing",required:!0})}),e.jsx(m,{xs:"12",md:"12",lg:"6",xl:"3",children:e.jsx(v,{formik:a,name:"tgl_exp_paspor_asing_pasangan",placeholder:"Masukkan tanggal kedaluarsa",title:"Tanggal Kedaluarse Paspor",type:"date",required:!0})})]})]})]})},oe={0:Q({voucher:S().required("Voucher wajib diisi")}),1:Q({nama_lengkap_pemohon:S().min(2,"Nama lengkap minimal 2 karakter").max(100,"Nama lengkap maksimal 100 karakter").required("Nama lengkap wajib diisi"),nik_pemohon:S().matches(/^[0-9]{16}$/,"NIK harus terdiri dari 16 digit angka").required("NIK wajib diisi"),id_provinsi_pemohon:S().required("Provinsi wajib diisi"),id_kab_kota_pemohon:S().required("Kabupaten/Kota wajib diisi"),id_negara_lahir_pemohon:S().required("Negara asal wajib diisi"),tgl_lahir_pemohon:H().max(new Date,"Tanggal lahir tidak boleh di masa depan").required("Tanggal lahir wajib diisi"),jenis_kelamin_pemohon:S().required("Jenis kelamin wajib diisi"),status_kawin_pemohon:S().notRequired(),id_kewarganegaraan_asal_pemohon:S().notRequired(),id_pekerjaan_pemohon:S().required("Pekerjaan wajib diisi"),tempat_tinggal_pemohon:S().required("Tempat tinggal wajib diisi"),id_negara_tinggal_pemohon:S().when("tempat_tinggal_pemohon",{is:"Luar Negeri",then:a=>a.required("Negara wajib diisi"),otherwise:a=>a.notRequired()}),id_provinsi_tinggal_pemohon:S().when("tempat_tinggal_pemohon",{is:"Dalam Negeri",then:a=>a.required("Provinsi wajib diisi"),otherwise:a=>a.notRequired()}),id_kab_kota_tinggal_pemohon:S().when("tempat_tinggal_pemohon",{is:"Dalam Negeri",then:a=>a.required("Kabupaten atau kota wajib diisi"),otherwise:a=>a.notRequired()}),alamat_tinggal_pemohon:S().required("Alamat wajib diisi"),no_hp_pemohon:S().matches(/^[0-9]+$/,"Nomor telepon harus angka").required("Nomor handphone wajib diisi"),no_telp_pemohon:S().matches(/^[0-9]+$/,"Nomor telepon harus angka").required("Nomor telepon wajib diisi"),email_pemohon:S().email("Format email tidak valid").required("Email wajib diisi"),no_akta_lahir_pemohon:S().matches(/^[A-Za-z0-9\/-]+$/,"Nomor akta hanya boleh huruf, angka, '/' atau '-'").required("Nomor akta wajib diisi"),tgl_akta_lahir_pemohon:H().required("Tanggal akta wajib diisi"),no_akta_kawin_pemohon:S().matches(/^[A-Za-z0-9./-]+$/,"Nomor akta perkawinan hanya boleh huruf, angka, '.', '/' atau '-'").required("Nomor akta perkawinan wajib diisi"),tgl_akta_kawin_pemohon:H().required("Tanggal akta perkawinan wajib diisi"),no_paspor_ri_pemohon:S().matches(/^[A-Za-z0-9]{9}$/,"Nomor Paspor RI harus 9 karakter, hanya huruf dan angka").required("Nomor Paspor RI wajib diisi"),wilayah_paspor_ri_pemohon:S().min(2,"Wilayah terbit paspor minimal 2 karakter").max(50,"Wilayah terbit paspor maksimal 50 karakter").required("Wilayah terbit paspor wajib diisi"),tgl_exp_paspor_ri_pemohon:H().required("Tanggal kedaluwarsa paspor wajib diisi"),no_paspor_kebangsaan_pemohon:S().matches(/^[A-Za-z0-9\s\/-]+$/,"Nomor Paspor Kebangsaan hanya boleh huruf, angka, spasi, '/' atau '-'").min(5,"Nomor Paspor Kebangsaan minimal 5 karakter").max(30,"Nomor Paspor Kebangsaan maksimal 30 karakter").required("Nomor Paspor Kebangsaan wajib diisi"),wilayah_paspor_kebangsaan_pemohon:S().required("Wilayah terbit paspor kebangsaan wajib diisi"),tgl_exp_paspor_kebangsaan_pemohon:H().required("Tanggal kedaluwarsa paspor kebangsaan wajib diisi")}),2:Q({nama_lengkap_pasangan:S().matches(/^[A-Za-zÃ€-Ã¿' -]+$/,"Nama hanya boleh berisi huruf, apostrof ('), dan tanda hubung (-)").min(2,"Nama lengkap minimal 2 karakter").max(100,"Nama lengkap maksimal 100 karakter").required("Nama lengkap wajib diisi"),id_kewarganegaraan_pasangan:S().required("Kewarganegaraan pasangan wajib diisi"),email_pasangan:S().email("Email tidak valid").required("Email wajib diisi"),no_hp_pasangan:S().matches(/^[0-9]{10,15}$/,"Nomor telepon harus terdiri dari 10 sampai 15 angka").required("Nomor telepon wajib diisi"),id_negara_lahir_pasangan:S().required("Negara lahir wajib diisi"),tgl_lahir_pasangan:H().required("Tanggal lahir wajib diisi"),alamat_tinggal_pasangan:S().max(200,"Alamat tidak boleh lebih 200 karakter").required("Alamat tinggal wajib diisi"),status_kawin_pasangan:S().notRequired(),agama_pasangan:S().required("Agama wajib diisi"),no_paspor_asing_pasangan:S().required("Nomor paspor asing wajib diisi").matches(/^[A-Z0-9]{6,9}$/,"Nomor paspor harus terdiri dari 6 sampai 9 huruf kapital dan angka tanpa spasi atau simbol"),tgl_exp_paspor_asing_pasangan:H().required("Tanggal kedaluarsa paspor wajib diisi")}),3:Q({suratPermohonan:S().required("Rules wajib dicentang")}),4:Q({kutipanAktaLahirPemohon:ee,kutipanAktaPerkawinanAtauBukuNikah:ee,dokumenPernahWNI:ee,ktpAtauNIT:ee,suratPernyataanPenolakanWNA:ee,pasFoto:ca})},me={voucher:"11112233",nama_lengkap_pemohon:"",nik_pemohon:"",id_negara_lahir_pemohon:"",tgl_lahir_pemohon:"",jenis_kelamin_pemohon:"",status_kawin_pemohon:"Kawin",id_kewarganegaraan_asal_pemohon:76,id_pekerjaan_pemohon:"",tempat_tinggal_pemohon:"",id_negara_tinggal_pemohon:0,no_hp_pemohon:"",no_telp_pemohon:"",id_provinsi_tinggal_pemohon:"",id_kab_kota_tinggal_pemohon:"",email_pemohon:"",alamat_tinggal_pemohon:"",no_akta_lahir_pemohon:"",tgl_akta_lahir_pemohon:"",no_akta_kawin_pemohon:"",tgl_akta_kawin_pemohon:"",no_paspor_ri_pemohon:"",wilayah_paspor_ri_pemohon:"",tgl_exp_paspor_ri_pemohon:"",no_paspor_kebangsaan_pemohon:"",wilayah_paspor_kebangsaan_pemohon:"",tgl_exp_paspor_kebangsaan_pemohon:"",nama_lengkap_pasangan:"",id_kewarganegaraan_pasangan:"",email_pasangan:"",no_hp_pasangan:"",id_negara_lahir_pasangan:"",tgl_lahir_pasangan:"",alamat_tinggal_pasangan:"",status_kawin_pasangan:"Kawin",agama_pasangan:"",no_paspor_asing_pasangan:"",tgl_exp_paspor_asing_pasangan:"",suratPermohonan:"",kutipanAktaLahirPemohon:null,kutipanAktaPerkawinanAtauBukuNikah:null,dokumenPernahWNI:null,ktpAtauNIT:null,suratPernyataanPenolakanWNA:null,pasFoto:null};function Ba(a,n=!0){const[s,r]=u.useState(!1),[l,p]=u.useState(null),[c,i]=u.useState(null);return u.useEffect(()=>{if(!n||!a)return;(async()=>{console.log("API RUN"),r(!0),p(null);try{const t=await Ia(a);console.log(t.data),i(t.data)}catch(t){p(t)}finally{r(!1)}})()},[a,n]),{data:c,loading:s,error:l}}const Wa=()=>{const[a,n]=u.useState(!1),[s,r]=u.useState(null),[l,p]=u.useState(null);return{postPermohonan:async i=>{var d;console.log("ðŸš€ usePostPermohonan - Starting POST request"),console.log("Data to post:",i),n(!0),r(null),p(null);try{const t=await Ca(i);console.log("âœ… POST API Response:",t),console.log("Response status:",t.status),console.log("Response data:",t.data);let o;return t.data?(o=t.data,localStorage.setItem("currentPermohonanId",JSON.stringify(t.data.id_permohonan))):t.status===200||t.status===201?o={message:"Success",status:t.status}:o={message:"Unknown response",status:t.status,data:t.data},console.log("âœ… Processed response:",o),p(o),o}catch(t){console.error("âŒ POST Permohonan Error:",t);let o={message:"Network error",status:null,data:null};t.response?(console.error("API Error Response:",t.response),o={message:((d=t.response.data)==null?void 0:d.message)||`HTTP ${t.response.status}`,status:t.response.status,data:t.response.data}):t.request?(console.error("Network Error:",t.request),o={message:"Network connection failed",status:null,data:null}):(console.error("Unexpected Error:",t.message),o={message:t.message,status:null,data:null}),r(o);const g=new Error(o.message);throw g.response=t.response,g.request=t.request,g.status=o.status,g}finally{n(!1),console.log("ðŸ usePostPermohonan - Request completed")}},loading:a,error:s,response:l}};function Va(){return Math.floor(1e5+Math.random()*9e5)}function Ma(){const[a,n]=u.useState(!1),[s,r]=u.useState(null),[l,p]=u.useState(null),c=ce();return{patchPermohonan:async d=>{console.log("Data Patch",d),n(!0),r(null);try{const t=Va(),o=await Da({id_voucher:t,id_permohonan:c,...d});return console.log("Patch response",o),p(o),o}catch(t){throw r(t),t}finally{n(!1)}},loading:a,error:s,response:l}}const Z=[["voucher"],["nama_lengkap_pemohon","nik_pemohon","id_provinsi_pemohon","id_kab_kota_pemohon","id_negara_lahir_pemohon","tgl_lahir_pemohon","jenis_kelamin_pemohon","status_kawin_pemohon","id_kewarganegaraan_asal_pemohon","id_pekerjaan_pemohon","tempat_tinggal_pemohon","id_negara_tinggal_pemohon","id_provinsi_tinggal_pemohon","id_kab_kota_tinggal_pemohon","alamat_tinggal_pemohon","no_hp_pemohon","no_telp_pemohon","email_pemohon","no_akta_lahir_pemohon","tgl_akta_lahir_pemohon","no_akta_kawin_pemohon","tgl_akta_kawin_pemohon","no_paspor_ri_pemohon","wilayah_paspor_ri_pemohon","tgl_exp_paspor_ri_pemohon","no_paspor_kebangsaan_pemohon","wilayah_paspor_kebangsaan_pemohon","tgl_exp_paspor_kebangsaan_pemohon"],["nama_lengkap_pasangan","id_kewarganegaraan_pasangan","email_pasangan","no_hp_pasangan","id_negara_lahir_pasangan","tgl_lahir_pasangan","alamat_tinggal_pasangan","status_kawin_pasangan","agama_pasangan","no_paspor_asing_pasangan","tgl_exp_paspor_asing_pasangan"],["suratPermohonan"],["kutipanAktaLahirPemohon","kutipanAktaPerkawinanAtauBukuNikah","dokumenPernahWNI","ktpAtauNIT","suratPernyataanPenolakanWNA","pasFoto"]],Ua=(a,n)=>a.filter(s=>n.includes(s.id)),za=(a,n)=>a.findIndex(s=>s.id===(n==null?void 0:n.id)),$a=a=>{if(!a||!a.fields)return a;const n={};return Object.keys(a.fields).forEach(s=>{const r=a.fields[s];r&&typeof r.optional=="function"?n[s]=r.optional():n[s]=r}),a.constructor(n)},Ha=a=>a!=null&&a!==""&&!(Array.isArray(a)&&a.length===0)&&!(typeof a=="object"&&a!==null&&Object.keys(a).length===0),re=(a,n)=>n.reduce((s,r)=>{const l=a[r];return Ha(l)&&(s[r]=l),s},{}),Oa=()=>{const a=u.useCallback(async(s,r)=>{const l=oe[s],p=Z[s],c=re(r.values,p);if(s===4&&(console.log("=== DEBUG STEP 4 VALIDATION ==="),console.log("Current step values:",c),console.log("All formik values:",r.values),p.forEach(d=>{const t=r.values[d];console.log(`${d}:`,{value:t,type:typeof t,isFile:t instanceof File,isObject:t&&typeof t=="object",hasId:t&&t.id,hasUrl:t&&t.url,hasFilePath:t&&t.file_path})})),!l)return{isValid:!0,errors:{}};const i={...r.touched};p.forEach(d=>{i[d]=!0}),r.setTouched(i);try{const d=p.reduce((o,g)=>(o[g]=r.values[g],o),{});await l.validate(d,{abortEarly:!1});const t={...r.errors};return p.forEach(o=>{delete t[o]}),r.setErrors(t),{isValid:!0,errors:{},step:s,data:c}}catch(d){console.log("Validation error for step",s,":",d);const t={};return d.inner&&d.inner.forEach(o=>{t[o.path]=o.message}),r.setErrors({...r.errors,...t}),{isValid:!1,errors:t,data:{}}}},[]),n=u.useCallback(async s=>{const r={};let l=!1;for(let p=0;p<Z.length;p++){const c=oe[p],i=Z[p];if(c)try{const d=i.reduce((t,o)=>(t[o]=s.values[o],t),{});await c.validate(d,{abortEarly:!1})}catch(d){l=!0;const t={};d.inner&&d.inner.forEach(o=>{t[o.path]=o.message}),r[p]=t}}return{hasErrors:l,allStepErrors:r}},[]);return{validateCurrentStep:a,validateAllSteps:n}},Ga=(a,n,s,r)=>{const l=new ue,p=u.useCallback(async i=>{if(await l.customConfirmation("Apakah anda yakin akan menyimpan data ke draft?")){const t=r(i);console.log("Draft values for current step (processed):",t);try{let o;return a?(o=await s(t),o&&o.message==="Success"&&ae("Berhasil memperbarui draft")):(o=await n(t),o&&o.message==="Success"&&ae("Berhasil menyimpan ke draft")),o}catch(o){throw console.error("Error saving draft:",o),l.customWarningMsg("Gagal menyimpan draft"),o}}return null},[a,n,s,r,l]),c=u.useCallback(async(i,d,t)=>{const o=Z[i],g={...d.touched};o.forEach(y=>{g[y]=!0}),d.setTouched(g);const h=o.reduce((y,b)=>(y[b]=d.values[b],y),{});if(Object.keys(re(h,o)).length===0){l.customWarningMsg("Tidak ada data yang perlu disimpan pada langkah ini. Harap isi form jika ingin menyimpan ke draft.");return}const k=oe[i];let _=!1;try{k&&await $a(k).validate(h,{abortEarly:!1});const y={...d.errors};o.forEach(x=>{delete y[x]}),d.setErrors(y),t(x=>{const F={...x};return F[i]&&(o.forEach(j=>delete F[i][j]),Object.keys(F[i]).length===0&&delete F[i]),F});const b=await p(re(d.values,o));b?console.log("âœ… Draft saved successfully:",b):console.log("â„¹ï¸ User cancelled draft save")}catch(y){const b={};if(y.inner&&y.inner.forEach(x=>{o.includes(x.path)&&h[x.path]!==void 0&&h[x.path]!==null&&h[x.path]!==""&&(b[x.path]=x.message,_=!0)}),_)d.setErrors({...d.errors,...b}),t(x=>({...x,[i]:b})),l.customWarningMsg("Beberapa field yang diisi memiliki format yang tidak valid. Mohon periksa kembali.");else{console.warn("Unexpected validation error, saving draft anyway:",y);try{const x=await p(re(d.values,o));x&&console.log("âœ… Fallback draft save successful:",x)}catch(x){console.error("âŒ Fallback draft save failed:",x)}}}},[p,l]);return{saveDraft:p,handleDraft:c}},Ja=(a,n,s,r)=>{const l=new ue,p=u.useCallback(async(i,d,t,o,g,h,k)=>{const _=await h(i,k),y=Z[i];if(!_.isValid){console.log("validation current step",_),l.customWarningMsg("harap melengkapi formulir sebelum ke langkah selanjutnya.");return}t(j=>{const N={...j};return delete N[i],N}),o(j=>new Set([...j,i]));const b=i===3,x=i===4;if(b){console.log("ðŸ“ Step 3 (Surat Permohonan): Skipping API call, moving to next step"),d(j=>j+1),g(j=>{const N=new Set(j);return N.delete(i),N});return}if(x){console.log("ðŸ“Ž Step 4 (Upload): Final step, preparing for submission"),d(j=>j+1),g(j=>{const N=new Set(j);return N.delete(i),N});return}const F=y.reduce((j,N)=>(j[N]=k.values[N],j),{});try{const j=r(F);let N;a?(console.log("Process data to API PATCH ===>>>",j),N=await s(j,a)):(console.log("Process data to API POST ===>>>",j),N=await n(j)),d(K=>K+1),g(K=>{const q=new Set(K);return q.delete(i),q})}catch(j){console.error("API Error:",j),l.customWarningMsg("Gagal menyimpan data. Silakan coba lagi.")}},[a,n,s,r,l]),c=u.useCallback(async(i,d,t)=>{i===1?await l.customConfirmation("Keluar pada formulir akan menghapus semua riwayat pengisian, harap simpan di draft jika akan melanjutkan nanti")&&t():d(o=>o-1)},[l]);return{handleNext:p,handleBack:c}},Ya=(a,n,s)=>{const r=new ue,[l,p]=u.useState(!1),c=$e();return{handleSubmit:u.useCallback(async(d,t,o,g,h)=>{var k;if(console.log("=== SUBMIT HANDLER ==="),console.log("Active Step:",d),console.log("Current Formik Values:",t.values),d!==4){console.log("âŒ Not on final step, cannot submit");return}p(!0),h(!0);try{console.log("ðŸ” Validating all steps before submission...");const{hasErrors:_,allStepErrors:y}=await o(t);if(console.log("Validation result:",{hasErrors:_,allStepErrors:y}),_){console.log("âŒ Form has validation errors:",y),g(y);const N={};Object.values(y).forEach(q=>{Object.assign(N,q)}),t.setErrors(N);const K=Z.flat().reduce((q,A)=>(q[A]=!0,q),{});t.setTouched(K),B("Harap melengkapi formulir sebelum melakukan submit");return}if(console.log("âœ… All validation passed, proceeding with submission..."),!await r.confirmationCreate()){console.log("â„¹ï¸ User cancelled submission");return}console.log("ðŸš€ Submitting form...");const x=s(t.values);console.log("Payload di proses",x);const F={id_permohonan:a,status_permohonan:1,status_aktivitas:2};console.log("Final submission payload:",F);const j=await qa(F);if(console.log("âœ… Submission response:",j),j&&j.message==="Success")localStorage.removeItem("currentPermohonanId"),ae("Berhasil Membuat Permohonan! Redirecting..."),setTimeout(()=>{c("/kewarganegaraan/dashboard")},3e3);else throw new Error((j==null?void 0:j.message)||"Submission failed")}catch(_){if(console.error("âŒ Submission error:",_),_.response){const y=((k=_.response.data)==null?void 0:k.message)||"Terjadi kesalahan pada server";se(y)}else _.request?se("Gagal terhubung ke server. Periksa koneksi internet."):se(_.message||"Terjadi kesalahan tidak terduga")}finally{p(!1),h(!1),console.log("=== END SUBMIT HANDLER ===")}},[a,n,s,r,c]),submitLoading:l}},Za="Dalam Negeri",Xa="Luar Negeri",Qa=(a,n)=>{const[s,r]=u.useState(n?1:0),[l,p]=u.useState(new Set),[c,i]=u.useState({}),[d,t]=u.useState(new Set),[o,g]=u.useState(!1),{loading:h,error:k,data:_}=Ba(n),{postPermohonan:y,response:b,loading:x,error:F}=Wa(),{patchPermohonan:j,response:N,loading:K,error:q}=Ma(),A=n,f=u.useMemo(()=>_&&_.id_permohonan===A?{...me,..._}:me,[_,A]),P=u.useCallback(X=>{const M={...X};return M.tempat_tinggal_pemohon===Za?delete M.id_negara_tinggal_pemohon:M.tempat_tinggal_pemohon===Xa?(delete M.id_provinsi_tinggal_pemohon,delete M.id_kab_kota_tinggal_pemohon):(delete M.id_provinsi_tinggal_pemohon,delete M.id_kab_kota_tinggal_pemohon,delete M.id_negara_tinggal_pemohon),M},[]),{validateCurrentStep:W,validateAllSteps:$}=Oa(),{handleDraft:U}=Ga(A,y,j,P),{handleNext:G,handleBack:R}=Ja(A,y,j,P),{handleSubmit:w}=Ya(A,j,P),E=_e({enableReinitialize:!0,validateOnChange:!0,validateOnBlur:!0,initialValues:f,validationSchema:oe[s],onSubmit:async X=>{console.log("Formik onSubmit called with:",X)}});u.useEffect(()=>{C()},[a]);const C=u.useCallback(()=>{r(n?1:0),E.resetForm(),i({}),t(new Set),p(new Set)},[E,n]),V=u.useCallback(X=>l.has(X),[l]),de=u.useCallback(()=>G(s,r,i,t,p,W,E),[s,G,W,E]),Pe=u.useCallback(()=>R(s,r,C),[s,R,C]),ve=u.useCallback(()=>U(s,E,i),[s,E,U]),Ne=u.useCallback(()=>w(s,E,$,i,g),[s,E,w,$]);return{activeStep:s,setActiveStep:r,skipped:l,stepErrors:c,completedSteps:d,isSubmitting:o,formik:E,isStepSkipped:V,handleNext:de,handleBack:Pe,handleDraft:ve,handleSubmit:Ne,resetForm:C,dataPermohonan:_,loadingGet:h,postLoading:x,patchLoading:K,processPayloadBasedOnTempatLahir:P}},en=()=>e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:e.jsx("i",{className:"bx bx-loader-circle spin fs-1"})}),an=en;function un({label:a="Formulir Permohonan"}){const n=ce(),{activeStep:s,setActiveStep:r,stepErrors:l,completedSteps:p,isSubmitting:c,formik:i,isStepSkipped:d,handleNext:t,handleBack:o,handleDraft:g,handleSubmit:h,loadingGet:k,postLoading:_,patchLoading:y}=Qa(a,n),b=He(),{values:x,setFieldValue:F}=i,j=[{id:"1",label:"Boarding",component:e.jsx(ja,{formik:i,setActiveStep:r,label:a})},{id:"2",label:"Identitas Pemohon",stepNumber:"Langkah 1",component:e.jsx(Fa,{formik:i})},{id:"3",label:"Identitas Suami/Istri",stepNumber:"Langkah 2",component:e.jsx(La,{formik:i})},{id:"4",label:"Surat Permohonan",stepNumber:"Langkah 3",component:e.jsx(Ta,{formik:i})},{id:"5",label:"Unggah Dokumen",stepNumber:"Langkah 4",component:e.jsx(Ka,{formik:i})}],N=n?j.filter(R=>R.id!=="1"):j,q={"Formulir Permohonan":n?["2","3","4","5"]:["1","2","3","4","5"]}[a]||[],A=Ua(N,q),f=A.filter(R=>R.stepNumber),P=n?s-1:s,W=A[P<0?0:P]||n&&A[0],$=za(f,A[P<0?0:P]),U=R=>{const w=n?R+1:R;return!l[w]&&p.has(w)},G=R=>{const w=n?R+1:R;return l[w]&&Object.keys(l[w]).length>0};return u.useEffect(()=>{b(Oe()),b(Ge()),b(Je()),b(Ye()),b(Ze())},[b]),u.useEffect(()=>{x.id_provinsi_pemohon&&b(Xe(x.id_provinsi_pemohon))},[x.id_provinsi_pemohon,b]),u.useEffect(()=>{x.id_provinsi_lahir_pasangan&&b(Qe(x.id_provinsi_lahir_pasangan))},[x.id_provinsi_lahir_pasangan]),u.useEffect(()=>{x.id_kab_kota_pemohon&&b(ea(x.id_kab_kota_pemohon))},[x.id_kab_kota_pemohon,x.id_kab_kota_lahir_pasangan,b]),u.useEffect(()=>{x.id_kec_pemohon&&b(aa(x.id_kec_pemohon))},[x.id_kec_pemohon,b,F]),e.jsxs(D,{className:"bg-white page-content mb-4",sx:{width:"100%"},children:[f.length>0&&$>=0&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-4",style:{fontWeight:500,fontSize:24,color:"#262626"},children:"Formulir Pendaftaran"}),e.jsx(_a,{steps:f,activeStep:$,isStepSkipped:d,isStepValid:U,isStepHasError:G})]}),k?e.jsx(an,{}):e.jsxs(D,{children:[(W==null?void 0:W.component)||e.jsx(D,{sx:{p:2,textAlign:"center"},children:e.jsx("p",{children:"Step tidak ditemukan"})}),s>=1&&e.jsx(ma,{handleSubmit:h,handleNext:t,handleBack:o,handleDraft:g,activeStep:s,stepsResult:W,isSubmitting:c,postLoading:_,patchLoading:y})]})]})}export{un as default};
